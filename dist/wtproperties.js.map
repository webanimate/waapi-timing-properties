{"version":3,"file":"wtproperties.js","sources":["../node_modules/lodash.isobject/index.js","../node_modules/lodash.isstring/index.js","../node_modules/lodash.isnumber/index.js","../src/index.js"],"sourcesContent":["/**\n * lodash 3.0.2 (Custom Build) <https://lodash.com/>\n * Build: `lodash modern modularize exports=\"npm\" -o ./`\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * lodash 4.0.1 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && objectToString.call(value) == stringTag);\n}\n\nmodule.exports = isString;\n","/**\n * lodash 3.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\n * as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike(value) && objectToString.call(value) == numberTag);\n}\n\nmodule.exports = isNumber;\n","import isObject from 'lodash.isobject'\nimport isString from 'lodash.isstring'\nimport isNumber from 'lodash.isnumber'\n\nconst properties = {\n  id: {\n    type: 'String',\n  },\n\n  delay: {\n    type: 'Number',\n    min: 0,\n    max: Number.MAX_VALUE,\n    default: 0,\n  },\n\n  direction: {\n    type: 'String',\n    values: [\n      'normal', //\n      'reverse',\n      'alternate',\n      'alternate-reverse',\n    ],\n    default: 'normal',\n  },\n\n  duration: {\n    type: 'Number',\n    min: 0,\n    max: Number.MAX_VALUE,\n    default: 0,\n  },\n\n  easing: {\n    type: 'String',\n    values: [\n      'linear', //\n      'cubic-bezier(',\n      'ease',\n      'ease-in',\n      'ease-out',\n      'ease-in-out',\n      'steps(',\n      'step-start',\n      'step-end',\n    ],\n    valuesCubicBezier: {\n      linear: '0.25, 0.25, 0.75, 0.75',\n      ease: '0.25, 0.1, 0.25, 1',\n      'ease-in': '0.42, 0, 1, 1',\n      'ease-out': '0, 0, 0.58, 1',\n      'ease-in-out': '0.42, 0, 0.58, 1',\n    },\n    valuesSteps: {\n      'step-start': '1, jump-start',\n      'step-end': '1, jump-end',\n    },\n    default: 'linear',\n  },\n\n  endDelay: {\n    type: 'Number',\n    min: 0,\n    max: Number.MAX_VALUE,\n    default: 0,\n  },\n\n  fill: {\n    type: 'String',\n    values: [\n      'none', //\n      'forwards',\n      'backwards',\n      'both',\n      'auto',\n    ],\n    default: 'auto',\n  },\n\n  iterationStart: {\n    type: 'Number',\n    min: 0,\n    max: Number.MAX_VALUE,\n    default: 0,\n  },\n\n  iterations: {\n    type: 'Number',\n    min: 0,\n    max: Infinity,\n    default: 1,\n  },\n\n  composite: {\n    type: 'String',\n    values: [\n      'add', //\n      'accumulate',\n      'replace',\n      'auto',\n    ],\n    default: 'replace',\n  },\n\n  iterationComposite: {\n    type: 'String',\n    values: [\n      'accumulate', //\n      'replace',\n    ],\n    default: 'replace',\n  },\n}\n\nconst propertiesNames = []\nObject.keys(properties).forEach((key) => {\n  propertiesNames.push(key)\n})\n\nconst isCssNumber = (string) => {\n  return /^[-+]?\\d*\\.?\\d+([eE]?[-+]?\\d+)?$/.test(string.trim())\n}\n\nconst isCssPositiveInteger = (string) => {\n  return /^[+]?\\d+?$/.test(string.trim()) && Number(string) > 0\n}\n\nconst checkCubicBezier = (value) => {\n  const numbers = value.substring(13, value.length - 1).split(',')\n  if (numbers.length === 4) {\n    for (const index of numbers.keys()) {\n      if (!isCssNumber(numbers[index])) {\n        return false\n      }\n      if ([0, 2].includes(index)) {\n        if (Number(numbers[index]) < 0 || Number(numbers[index]) > 1) {\n          return false\n        }\n      }\n    }\n    return true\n  }\n  return false\n}\n\nconst checkSteps = (value) => {\n  const values = value.substring(6, value.length - 1).split(',')\n  if (values.length > 2) {\n    return false\n  }\n  if (!isCssPositiveInteger(values[0])) {\n    return false\n  }\n  if (values[1] && !['end', 'start', 'jump-both', 'jump-none', 'jump-end', 'jump-start'].includes(values[1].trim())) {\n    return false\n  }\n  return true\n}\n\nconst isValidPropertyValue = (key, value) => {\n  if (!isNumber(value) && !isString(value)) {\n    return false\n  }\n  const property = properties[key]\n  if (property.type === 'Number') {\n    if (!(value >= property.min && value <= property.max)) {\n      return false\n    }\n  } else {\n    if (property.values) {\n      value = value.toString()\n      const bracketPosition = value.indexOf('(')\n      if (bracketPosition > 0) {\n        if (key === 'easing') {\n          if (value.substring(value.length - 1) !== ')') {\n            return false\n          }\n          if (value.substring(0, 13) === 'cubic-bezier(') {\n            return checkCubicBezier(value)\n          } else if (value.substring(0, 6) === 'steps(') {\n            return checkSteps(value)\n          } else {\n            return false\n          }\n        }\n        value = value.substring(0, bracketPosition + 1)\n      }\n      for (const propertyValue of property.values) {\n        if (value === propertyValue) {\n          return true\n        }\n      }\n      return false\n    }\n    return true\n  }\n  return true\n}\n\nconst removeExtraSpaces = (value) => {\n  if (isString(value)) {\n    value = value.trim().replace(/\\s+/g, ' ').replace(/\\( /, '(').replace(/ \\)/, ')').replace(' ,', ',')\n  }\n  return value\n}\n\nconst sanitize = (obj, checkValues = true, returnDefault = true) => {\n  let _properties\n  if (Array.isArray(obj)) {\n    _properties = []\n  } else if (isObject(obj)) {\n    _properties = {}\n  }\n  if (Object.keys(obj).length) {\n    if (Array.isArray(obj)) {\n      for (const key of obj) {\n        if (propertiesNames.includes(key)) {\n          _properties.push(key)\n        }\n      }\n    } else if (isObject(obj)) {\n      Object.keys(obj).forEach((key) => {\n        if (key in properties) {\n          obj[key] = removeExtraSpaces(obj[key])\n          if (checkValues) {\n            if (!isValidPropertyValue(key, obj[key])) {\n              if (returnDefault && properties[key].default !== undefined) {\n                _properties[key] = properties[key].default\n              }\n            } else {\n              _properties[key] = obj[key]\n            }\n          } else {\n            _properties[key] = obj[key]\n          }\n        }\n      })\n    } else {\n      _properties = ''\n      if (validate(obj)) {\n        _properties = obj\n      }\n    }\n  }\n  return _properties\n}\n\nconst validate = (obj, checkValues = true, returnFirstInvalidProperty = false) => {\n  if (Object.keys(obj).length) {\n    if (Array.isArray(obj)) {\n      for (const key of obj) {\n        if (!propertiesNames.includes(key)) {\n          return returnFirstInvalidProperty ? key : false\n        }\n      }\n      return true\n    } else if (isObject(obj)) {\n      for (const key of Object.keys(obj)) {\n        if (!(key in properties)) {\n          return returnFirstInvalidProperty ? `${key}: ${obj[key]}` : false\n        } else if (checkValues) {\n          obj[key] = removeExtraSpaces(obj[key])\n          if (!isValidPropertyValue(key, obj[key])) {\n            return returnFirstInvalidProperty ? `${key}: ${obj[key]}` : false\n          }\n        }\n      }\n      return true\n    } else if (isString(obj) && propertiesNames.includes(obj)) {\n      return true\n    }\n  }\n  return false\n}\n\nexport { properties, propertiesNames, sanitize, validate }\n"],"names":["value","type","objectToString","Object","prototype","toString","isArray","Array","isObjectLike","call","properties","id","delay","min","max","Number","MAX_VALUE","default","direction","values","duration","easing","valuesCubicBezier","linear","ease","ease-in","ease-out","ease-in-out","valuesSteps","step-start","step-end","endDelay","fill","iterationStart","iterations","Infinity","composite","iterationComposite","propertiesNames","keys","forEach","key","push","checkSteps","substring","length","split","string","test","trim","includes","isValidPropertyValue","isNumber","isString","property","bracketPosition","indexOf","numbers","index","checkCubicBezier","propertyValue","removeExtraSpaces","replace","validate","obj","checkValues","returnFirstInvalidProperty","isObject","returnDefault","_properties","undefined"],"mappings":"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"}